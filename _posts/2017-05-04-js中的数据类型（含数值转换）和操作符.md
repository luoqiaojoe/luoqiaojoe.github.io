---
layout: post
author: 罗必才
title: js中的数据类型（含数值转换）和操作符
category: JavaScript基础
tag: [JavaScript]
---

## js中的数据类型（含数值转换）、操作符



### 一、数据类型（含数值转换）

>ECMAScript中有5种简单数据类型（也称基本数据类型）：`Undefined`、`Null`、`Boolean`、`Number`和`String`。还有一种复杂数据类型——`Object`，`Object`本质上是由一组无序的的名值对组成的。

### 利用typeof检测基本数据类型

{% highlight c %}

"undefinded" 	——这个值未定义；
"boolean" 	——这个值是布尔值；
"string" 	——这个值是字符串；
"number" 	——这个值是数值；
"object" 	——这个值是对象或null；
"function" 	——这个值是函数；

var message = 'some string';

console.log( typeof message );	//string
console.log( typeof(message ));	//string

console.log( typeof 95 );	//number

{% endhighlight %}

`typeof`操作符可以是变量，也可是数值字面量。**注意**,`typeof`是一个操作符而不是函数，所以可以用圆括号，也可以不用。


### Undefined类型
`undefined`类型只有一个值，即特殊的`undefined`。在使用`var`声明变量但未对其加以初始化时，这个变量的值就是`undefined`。


### Null类型
`null`类型也只有一个值，即`null`。`null`值表示一个空对象指针，所以`typeof`检测`null`时会返回`object`。
需要注意的是，`undefined`的值是派生自`null`值得，因此：`console.log( null==undefined );	//true`


### Boolean类型
`boolean`类型有两个字面值：`true`和`false`。要将一个值转换为对应的Boolean值，可以调用`Boolean()`

**注意**：
+ `true`不一定等于1，`false`也不一定等于0。
+ `True` 和 `False`（以及其他混合大小写模式）都不是Boolean值，只是标识符。

**各种数据类型及其对应的转换值：**
+ 转换为`true`的值：`true`，任何非空字符串，任何非零数字值（包括无穷大），任何对象
+ 转换为`false`的值：`false`，""（空字符串），`0`和`NaN`，`null`，`undefined`


### Number类型
`number`类型用IEEE754格式`鬼知道这是个啥`来表示整数和浮点数值。

**注意：**
+ 永远不要测试某个特定的浮点数值。例如：浮点数值0.1和0.2相加的时候，值并不等于0.3。
+ 数值范围：Number.MIN_VALUE —— Number.MAX_VALUE,在大多数浏览器中，最小值是5e^-324，最大值是1.797e^308，如果某次计算超过了这个范围，那么就会以`+/-Infinity`显示。这个值将无法参与下一次计算。检测方法：`isInfinity()`函数，返回布尔值。


##### NaN
`NaN`,即非数值（Not a Number)，本来要返回数值的操作数未返回数值的情况时出现。

**注意：**
+ 涉及`NaN`的操作都会返回`NaN`
+ NaN与任何值都不想等，包括`NaN`本身。
`isNaN( 参数 )`函数判断该参数是否**「不是数值」**，也就是，**参数能被转换为数值，返回false**，反之，返回true。


##### 数值转换

**一、Number()**

1.Boolean类型，`true` —> 1		false —> 0
2.null  —> 0
3.undefined —> NaN
4.String
+ 只包含数字 —> 十进制数字（忽略前导0）。
+ 包含有效浮点格式，如1.1  —> 对应浮点数值（忽略前导0）。
+ 空字符串 —> `0`
+ 非空字符串 —> `NaN`
+ 包含有效十六进制，如"0xf"  —> 相同大小十进制整数值（忽略前导0）。
+ 如果是对象，则调用对象的`valueOf()`方法，再按照前面的规则转换，若转换结果为`NaN`，则调用对象的`toString()`方法，再按照前面的规则转换。

###### 二、parseInt() 

**1.特性：**
+ 主要看其是否符合数值模式，忽略字符串前面的空格，直接找到第一个非空格字符。
	+ 第一个字符不是数字或负号 —> NaN (空字符串 —> NaN)。
	+ 数字字符 —> 解析所有后续字符，碰到非数值字符结束，小数点不是有效数字，如果字符串以"0x"开头并后跟数字，则会当做十六进制整数解析，字符串以"0"开头并后跟数字，则会当初八进制数来解析。  

**2.参数：**
+ 参数1：要解析的字符串。
+ 参数2：转换时所用的基数（如十六进制，则为16）。



###### 三、parseFloat()
+ 从第一个字符开始解析，遇到无效浮点格式后结束。只解析十进制的数。
+ 只有第一个小数点有效。
+ 始终忽略前导0，也就是十六进制的数始终会被解析为0。
+ 没有小数点或小数点后全为0，则解析为整数。

`parseFloat()`与`parseInt`的两个区别：1.能解析浮点数字，即第一个小数点有效；2.始终忽略前导0

